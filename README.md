# AutoScanlate

Автоматическая система отслеживания состояния глав. 
Для работы (доступа к гугл-таблице) нужен сервисный гугл-аккаунт, которому нужно выдать доступ к таблице. 

Также в директорию с кодом (ботом) нужно поместить скачанный файл `creds.json`, который скачивается в ЛК сервисного аккаунта.

Бот использует Гугл-таблицу, откуда берет ссылки на тайтлы (оригинал, вк, мангалиб, реманга) и туда же заносит результаты.

Для использования всего функционала программы вам потребуется:
- сервисный аккаунт гугл
- браузер на движке Chromium
- [chromedriver](https://chromedriver.chromium.org/) под вашу версию браузера, ([узнать свою версию](chrome://version/))
- аккаунт Реманги (внести в `config.py` и залогиниться в браузере)
- заполнить `config.py` необходимыми данными

# Организация таблицы, диска, вк
Для корректной работы таблица должна состоять из следующих столбцов с исходными данными (если порядок будет иной, нужно будет вручную изменить в скриптах):
- название тайтла
- ссылки на оригинал
- ссылки на ремангу
- ссылки на мангалиб
- ссылки на вк

# Реманга
Для доступа ко всей информации требуется авторизация в аккаунт Реманги.

Парсятся:
- номер последней платной главы;
- номер последней бесплатной главы;
- дата последней главы;
- количество платных глав;
- продвижение:
  1) если активировано - количество оставшихся дней;
  2) если в очереди - дата запуска;
  3) в противном случае - "Продвижение".

# Мангалиб
Не требует авторизации. Парсится номер последней главы.

# ВК
Не требует авторизации, но требует токен. Получить [здесь](https://vkhost.github.io/). 
- Тип токена: пользователь
- Права: Доступ в любое время, Группы

В `config.py` вносить все, что после `access_token=` и что до `&expires_in`. 

Пример токена: `vk1.a.JGUIwjf...`

Парсится номер последней платной и бесплатной глав (у платки в названии должно быть "пончик").

# Оригинал
Парсится номер последней главы с различных азиатский сайтов. Если сайта в списке для парса нет, то в таблицу занесется ошибка.

# Гугл-диск
Для парса с диска нужно дать доступ к этому диску сервисному аккаунту.

Парсинг будет происходить по указанным в `config.py` папкам. 
Предполагается, что Диск устроен следующим образом:
1) В одной из указанных в `config.py` папок находится папка с тайтлом
2) Название папки совпадает с названием тайтла, указанного в таблице
3) В папке с тайтлом есть некоторые из следующих рабочих папок Перевод, Редакт, Клин, Тайп, Эдит, Звуки, Бета, Сканы
4) В рабочей папке (см. п.3) есть файл / папка, в названии которого есть цифра, которая и будет занесена в таблицу
5) Для предотвращения путаницы рекомендуется называть все файлы по следующему шаблону "Название_тайтла - номер_главы"
